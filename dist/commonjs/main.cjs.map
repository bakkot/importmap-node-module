{"version":3,"file":"main.cjs","sources":["../../node_modules/@jsenv/import-map/src/internal/assertImportMap.js","../../node_modules/@jsenv/import-map/src/sortImportMap.js","../../node_modules/@jsenv/util/src/internal/ensureUrlTrailingSlash.js","../../node_modules/@jsenv/util/src/isFileSystemPath.js","../../node_modules/@jsenv/util/src/fileSystemPathToUrl.js","../../node_modules/@jsenv/util/src/assertAndNormalizeDirectoryUrl.js","../../node_modules/@jsenv/util/src/assertAndNormalizeFileUrl.js","../../node_modules/@jsenv/util/src/internal/statsToType.js","../../node_modules/@jsenv/util/src/urlToFileSystemPath.js","../../node_modules/@jsenv/util/src/internal/permissions.js","../../node_modules/@jsenv/util/src/writeFileSystemNodePermissions.js","../../node_modules/@jsenv/util/src/readFileSystemNodeStat.js","../../node_modules/@jsenv/util/src/internal/getCommonPathname.js","../../node_modules/@jsenv/util/src/internal/pathnameToDirectoryPathname.js","../../node_modules/@jsenv/util/src/urlToRelativeUrl.js","../../node_modules/@jsenv/util/src/writeDirectory.js","../../node_modules/@jsenv/util/src/resolveUrl.js","../../node_modules/@jsenv/util/src/ensureWindowsDriveLetter.js","../../node_modules/@jsenv/util/src/ensureParentDirectories.js","../../node_modules/@jsenv/util/src/writeSymbolicLink.js","../../node_modules/@jsenv/util/src/readFile.js","../../node_modules/@jsenv/util/src/internal/createWatcher.js","../../node_modules/@jsenv/util/src/registerDirectoryLifecycle.js","../../node_modules/@jsenv/util/src/writeFile.js","../../src/internal/readPackageFile.js","../../node_modules/@jsenv/cancellation/src/operation/firstOperationMatching.js","../../node_modules/@jsenv/cancellation/src/cancelError.js","../../node_modules/@jsenv/cancellation/src/internal/arrayHelper.js","../../node_modules/@jsenv/cancellation/src/createCancellationSource.js","../../node_modules/@jsenv/cancellation/src/catchAsyncFunctionCancellation.js","../../node_modules/@jsenv/cancellation/src/createCancellationTokenForProcessSIGINT.js","../../src/internal/resolveNodeModule.js","../../src/internal/resolvePackageMain.js","../../src/internal/specifierIsRelative.js","../../src/internal/visitPackageImports.js","../../src/internal/visitPackageExports.js","../../src/generateImportMapForPackage.js","../../node_modules/@jsenv/logger/src/LOG_LEVELS.js","../../node_modules/@jsenv/logger/src/createLogger.js","../../src/internal/importMapToVsCodeConfigPaths.js","../../src/generateImportMapForProjectPackage.js"],"sourcesContent":null,"names":["assertImportMap","value","TypeError","type","Array","isArray","sortImportMap","importMap","imports","scopes","sortImports","undefined","sortScopes","importsSorted","Object","keys","sort","compareLengthOrLocaleCompare","forEach","name","scopesSorted","scopeName","a","b","length","localeCompare","ensureUrlTrailingSlash","url","endsWith","isFileSystemPath","startsWithWindowsDriveLetter","string","firstChar","test","secondChar","fileSystemPathToUrl","Error","String","pathToFileURL","assertAndNormalizeDirectoryUrl","urlString","URL","href","e","startsWith","assertAndNormalizeFileUrl","baseUrl","statsToType","stats","isFile","isDirectory","isSymbolicLink","isFIFO","isSocket","isCharacterDevice","isBlockDevice","urlToFileSystemPath","fileUrl","slice","fileSystemPath","fileURLToPath","S_IRUSR","S_IWUSR","S_IXUSR","S_IRGRP","S_IWGRP","S_IXGRP","S_IROTH","S_IWOTH","S_IXOTH","permissionsToBinaryFlags","owner","group","others","binaryFlags","read","write","execute","writeFileSystemNodePermissions","source","permissions","sourceUrl","sourcePath","getPermissionOrComputeDefault","chmodNaive","Promise","resolve","reject","chmod","error","actionLevels","subjectLevels","action","subject","subjectPermissions","actionLevel","actionFallback","find","actionFallbackCandidate","subjectLevel","subjectFallback","subjectFallbackCandidate","isWindows","process","platform","readFileSystemNodeStat","nullIfNotFound","followLink","handleNotFoundOption","handleNotFoundError","readStat","handlePermissionDeniedError","nodeMethod","stat","lstat","statsObject","code","getCommonPathname","pathname","otherPathname","firstDifferentCharacterIndex","findFirstDifferentCharacterIndex","commonString","charAt","firstDifferentSlashIndex","lastIndexOf","otherString","maxCommonLength","Math","min","i","char","otherChar","pathnameToDirectoryPathname","slashLastIndex","urlToRelativeUrl","urlArg","baseUrlArg","protocol","username","password","host","hash","search","basePathname","commonPathname","specificPathname","baseSpecificPathname","baseSpecificDirectoryPathname","relativeDirectoriesNotation","replace","relativePathname","mkdir","promises","writeDirectory","destination","recursive","allowUseless","destinationUrl","destinationPath","destinationStats","destinationType","resolveUrl","specifier","baseUrlFallback","cwd","ensureParentDirectories","destinationParentPath","dirname","readFilePromisified","promisify","readFileNode","readFile","filePath","buffer","toString","isLinux","writeFile","writeFileNode","content","readPackageFile","packageFileUrl","manualOverrides","packageFileString","packageJsonObject","JSON","parse","version","overrideKey","overrideKeyCandidate","composeObject","leftObject","rightObject","composedObject","key","rightValue","leftValue","firstOperationMatching","array","start","predicate","visit","index","input","returnValue","then","output","createCancelError","reason","cancelError","isCancelError","arrayWithout","item","arrayWithoutItem","push","createCancellationSource","requested","registrationArray","cancel","registrationArrayCopy","registration","callback","register","existingRegistration","unregister","throwIfRequested","token","cancellationRequested","catchAsyncFunctionCancellation","asyncFunction","catch","createCancellationTokenForProcessSIGINT","SIGINTCancelSource","on","resolveNodeModule","logger","rootProjectDirectoryUrl","dependencyName","dependencyVersionPattern","dependencyType","packageDirectoryUrl","nodeModuleCandidateArray","computeNodeModuleCandidateArray","result","nodeModuleCandidate","message","Boolean","warn","packageDirectoryRelativeUrl","candidateArray","relativeNodeModuleDirectoryArray","split","shift","join","resolvePackageMain","resolveMainFile","packageMainFieldName","packageMainFieldValue","module","main","extensionCandidateArray","packageFilePath","mainFileRelativeUrl","mainFileUrlFirstCandidate","mainFileUrl","findMainFileUrlOrNull","extensionTried","extname","mainStats","indexFileUrl","extensionLeadingToAFile","findExtension","mainFilePath","extension","fileDirname","fileBasename","basename","extensionLeadingToFile","extensionCandidate","filePathCandidate","specifierIsRelative","visitPackageImports","importsForPackageImports","packageImports","address","from","to","visitPackageExports","packageName","packageInfo","favoredExports","importsForPackageExports","exports","packageExports","addressToDestination","packageExportsKeys","someSpecifierStartsWithDot","some","someSpecifierDoesNotStartsWithDot","favoredExport","default","generateImportMapForPackage","projectDirectoryUrl","includeDevDependencies","includeExports","includeImports","selfImport","projectPackageFileUrl","rootProjectPackageFileUrl","seen","markPackageAsSeen","importerPackageFileUrl","packageIsSeen","includes","importerPackageJsonObject","visitPackage","visitDependencies","computePackageInfo","visitPackageMain","packageIsRoot","addImportMapping","toScoped","addScopedImportMapping","scope","importerIsRoot","importerRelativeUrl","packageIsProject","packageDirectoryUrlExpected","dependencyMap","dependencies","versionPattern","peerDependencies","isProjectPackage","devDependencies","hasOwnProperty","all","map","dependency","visitDependency","dependencyData","findDependency","dependencyPackageFileUrl","dependencyPackageJsonObject","importerIsProject","importerPackageDirectoryUrl","dependenciesCache","dependencyPromise","projectPackageJsonObject","scopedImports","scopedImportKey","LOG_LEVEL_OFF","LOG_LEVEL_DEBUG","LOG_LEVEL_INFO","LOG_LEVEL_WARN","LOG_LEVEL_ERROR","createLogger","logLevel","debug","info","debugDisabled","infoDisabled","warnDisabled","errorDisabled","console","importMapToVsCodeConfigPaths","paths","importKey","importValue","importValueArray","candidatesForPath","generateImportMapForProjectPackage","cancellationToken","env","NODE_ENV","importMapFile","importMapFileRelativeUrl","importMapFileLog","jsConfigFile","jsConfigFileLog","jsConfigLeadingSlash","importMapFileUrl","stringify","jsConfigFileUrl","jsConfig","compilerOptions"],"mappings":"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"}