{"version":3,"file":"main.cjs","sources":["../../node_modules/@jsenv/import-map/src/internal/assertImportMap.js","../../node_modules/@jsenv/import-map/src/sortImportMap.js","../../node_modules/@jsenv/util/src/internal/ensureUrlTrailingSlash.js","../../node_modules/@jsenv/util/src/isFileSystemPath.js","../../node_modules/@jsenv/util/src/fileSystemPathToUrl.js","../../node_modules/@jsenv/util/src/assertAndNormalizeDirectoryUrl.js","../../node_modules/@jsenv/util/src/assertAndNormalizeFileUrl.js","../../node_modules/@jsenv/util/src/internal/statsToType.js","../../node_modules/@jsenv/util/src/urlToFileSystemPath.js","../../node_modules/@jsenv/util/src/internal/permissions.js","../../node_modules/@jsenv/util/src/writeFileSystemNodePermissions.js","../../node_modules/@jsenv/util/src/readFileSystemNodeStat.js","../../node_modules/@jsenv/cancellation/src/operation/firstOperationMatching.js","../../node_modules/@jsenv/cancellation/src/cancelError.js","../../node_modules/@jsenv/cancellation/src/internal/arrayHelper.js","../../node_modules/@jsenv/cancellation/src/createCancellationSource.js","../../node_modules/@jsenv/cancellation/src/catchAsyncFunctionCancellation.js","../../node_modules/@jsenv/cancellation/src/createCancellationTokenForProcessSIGINT.js","../../node_modules/@jsenv/util/src/internal/getCommonPathname.js","../../node_modules/@jsenv/util/src/internal/pathnameToDirectoryPathname.js","../../node_modules/@jsenv/util/src/urlToRelativeUrl.js","../../node_modules/@jsenv/util/src/writeDirectory.js","../../node_modules/@jsenv/util/src/resolveUrl.js","../../node_modules/@jsenv/util/src/ensureWindowsDriveLetter.js","../../node_modules/@jsenv/util/src/ensureParentDirectories.js","../../node_modules/@jsenv/util/src/writeSymbolicLink.js","../../node_modules/@jsenv/util/src/readFile.js","../../node_modules/@jsenv/util/src/internal/createWatcher.js","../../node_modules/@jsenv/util/src/registerDirectoryLifecycle.js","../../node_modules/@jsenv/util/src/writeFile.js","../../src/internal/readPackageFile.js","../../src/internal/resolveNodeModule.js","../../src/internal/resolvePackageMain.js","../../src/internal/specifierIsRelative.js","../../src/internal/visitPackageImports.js","../../src/internal/visitPackageExports.js","../../src/generateImportMapForPackage.js","../../node_modules/@jsenv/logger/src/LOG_LEVELS.js","../../node_modules/@jsenv/logger/src/createLogger.js","../../src/internal/importMapToVsCodeConfigPaths.js","../../src/generateImportMapForProjectPackage.js"],"sourcesContent":null,"names":["assertImportMap","value","TypeError","type","Array","isArray","sortImportMap","importMap","imports","scopes","sortImports","undefined","sortScopes","importsSorted","Object","keys","sort","compareLengthOrLocaleCompare","forEach","name","scopesSorted","scopeName","a","b","length","localeCompare","ensureUrlTrailingSlash","url","endsWith","isFileSystemPath","startsWithWindowsDriveLetter","string","firstChar","test","secondChar","fileSystemPathToUrl","Error","String","pathToFileURL","assertAndNormalizeDirectoryUrl","urlString","URL","href","e","startsWith","assertAndNormalizeFileUrl","baseUrl","statsToType","stats","isFile","isDirectory","isSymbolicLink","isFIFO","isSocket","isCharacterDevice","isBlockDevice","urlToFileSystemPath","fileUrl","slice","fileSystemPath","fileURLToPath","S_IRUSR","S_IWUSR","S_IXUSR","S_IRGRP","S_IWGRP","S_IXGRP","S_IROTH","S_IWOTH","S_IXOTH","permissionsToBinaryFlags","owner","group","others","binaryFlags","read","write","execute","writeFileSystemNodePermissions","source","permissions","sourceUrl","sourcePath","getPermissionOrComputeDefault","chmodNaive","Promise","resolve","reject","chmod","error","actionLevels","subjectLevels","action","subject","subjectPermissions","actionLevel","actionFallback","find","actionFallbackCandidate","subjectLevel","subjectFallback","subjectFallbackCandidate","isWindows","process","platform","readFileSystemNodeStat","nullIfNotFound","followLink","handleNotFoundOption","handleNotFoundError","readStat","handlePermissionDeniedError","nodeMethod","stat","lstat","statsObject","code","firstOperationMatching","array","start","predicate","visit","index","input","returnValue","then","output","createCancelError","reason","cancelError","isCancelError","arrayWithout","item","arrayWithoutItem","i","push","createCancellationSource","requested","registrationArray","cancel","registrationArrayCopy","registration","callback","register","existingRegistration","unregister","throwIfRequested","token","cancellationRequested","catchAsyncFunctionCancellation","asyncFunction","catch","createCancellationTokenForProcessSIGINT","SIGINTCancelSource","on","getCommonPathname","pathname","otherPathname","firstDifferentCharacterIndex","findFirstDifferentCharacterIndex","commonString","charAt","firstDifferentSlashIndex","lastIndexOf","otherString","maxCommonLength","Math","min","char","otherChar","pathnameToDirectoryPathname","slashLastIndex","urlToRelativeUrl","urlArg","baseUrlArg","protocol","username","password","host","hash","search","basePathname","commonPathname","specificPathname","baseSpecificPathname","baseSpecificDirectoryPathname","relativeDirectoriesNotation","replace","relativePathname","mkdir","promises","writeDirectory","destination","recursive","allowUseless","destinationUrl","destinationPath","destinationStats","destinationType","resolveUrl","specifier","baseUrlFallback","cwd","ensureParentDirectories","destinationParentPath","dirname","readFilePromisified","promisify","readFileNode","readFile","filePath","buffer","toString","isLinux","writeFile","writeFileNode","content","readPackageFile","packageFileUrl","manualOverrides","packageFileString","packageJsonObject","JSON","parse","version","overrideKey","overrideKeyCandidate","composeObject","leftObject","rightObject","composedObject","key","rightValue","leftValue","resolveNodeModule","logger","rootProjectDirectoryUrl","dependencyName","dependencyVersionPattern","dependencyType","packageDirectoryUrl","nodeModuleCandidateArray","computeNodeModuleCandidateArray","result","nodeModuleCandidate","message","Boolean","warn","packageDirectoryRelativeUrl","candidateArray","relativeNodeModuleDirectoryArray","split","shift","join","resolvePackageMain","resolveMainFile","packageMainFieldName","packageMainFieldValue","module","main","extensionCandidateArray","packageFilePath","mainFileRelativeUrl","mainFileUrlFirstCandidate","mainFileUrl","findMainFileUrlOrNull","mainStats","indexFileUrl","extensionLeadingToAFile","findExtension","mainFilePath","extension","extname","fileDirname","fileBasename","basename","extensionLeadingToFile","extensionCandidate","filePathCandidate","specifierIsRelative","visitPackageImports","importsForPackageImports","packageImports","address","from","to","visitPackageExports","packageName","packageInfo","favoredExports","importsForPackageExports","exports","packageExports","addressToDestination","packageExportsKeys","someSpecifierStartsWithDot","some","someSpecifierDoesNotStartsWithDot","favoredExport","default","generateImportMapForPackage","projectDirectoryUrl","includeDevDependencies","includeExports","includeImports","selfImport","projectPackageFileUrl","rootProjectPackageFileUrl","seen","markPackageAsSeen","importerPackageFileUrl","packageIsSeen","includes","importerPackageJsonObject","visitPackage","visitDependencies","computePackageInfo","visitPackageMain","packageIsRoot","addImportMapping","toScoped","addScopedImportMapping","scope","importerIsRoot","importerRelativeUrl","packageIsProject","packageDirectoryUrlExpected","dependencyMap","dependencies","versionPattern","peerDependencies","isProjectPackage","devDependencies","hasOwnProperty","all","map","dependency","visitDependency","dependencyData","findDependency","dependencyPackageFileUrl","dependencyPackageJsonObject","importerIsProject","importerPackageDirectoryUrl","dependenciesCache","dependencyPromise","projectPackageJsonObject","scopedImports","scopedImportKey","LOG_LEVEL_OFF","LOG_LEVEL_DEBUG","LOG_LEVEL_INFO","LOG_LEVEL_WARN","LOG_LEVEL_ERROR","createLogger","logLevel","debug","info","debugDisabled","infoDisabled","warnDisabled","errorDisabled","console","importMapToVsCodeConfigPaths","paths","importKey","importValue","importValueArray","candidatesForPath","generateImportMapForProjectPackage","cancellationToken","env","NODE_ENV","importMapFile","importMapFileRelativeUrl","importMapFileLog","jsConfigFile","jsConfigFileLog","jsConfigLeadingSlash","importMapFileUrl","stringify","jsConfigFileUrl","jsConfig","compilerOptions"],"mappings":"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"}